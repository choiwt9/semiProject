<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>공지목록</title>
    
    
    <style>
        h3{text-align: center;}

table{
    border-spacing: 30px;
   width: 700px;
   height: 100%;
   margin: auto;
   
}

tr{background-color: rgb(222, 165, 230);}
    
td{
     width: 200px;
     height: 60px;
     min-width: 40px;
     border-radius: 10px; 
}

form {
    display: flex; /* Flexbox를 사용하여 가로로 배치 */
    align-items: center; /* 요소들을 수직 가운데 정렬 */
    justify-content: center; /* 요소들을 수평 가운데 정렬 */
    gap: 10px; /* 요소들 간의 간격 설정 */
}
.search-group {
        display: flex; /* 검색 입력창과 버튼을 하나의 그룹으로 만듦 */
        align-items: center;}

 #search, button{
        background-color: white;
        height: 40px; /* 동일한 높이 지정 */
        box-sizing: border-box; /* padding과 border를 포함해 크기 조절 */
        position: relative;
        }

 #search{
        border-top-left-radius: 10px;
        border-bottom-left-radius: 10px;
        display: inline-block;  
        border-right: none;
    }
 #numbers{ margin: 50px;
           display: flex;
            justify-content: center;
            flex-wrap: nowrap;  /* 한 줄로 유지 */
            gap: 10px; /* 페이지네이션 버튼 간의 간격 */
            white-space: nowrap;
           
       
 }
a{  
    font-size: larger;
    color: black;
    margin: 10px;
    border-radius: 5px;
       
 }

 #numbers>a:hover{
    background-color: black;
    color: white;
 }
 button{ position: relative;
        margin-left: 0px;
        border-top-right-radius: 10px;
        border-bottom-right-radius: 10px; 
        display: inline-block;
        padding: 0 10px;
        border-left: none;
     }
     img{width: 15px;
          height: 15px;
        cursor: pointer;
         }
         #gle{
            width: 60px;
            height: 40px;
            border-radius: 10px;
        }
    </style>
</head>
<body >
    <h3 >공지사항</h3>


    <div class="gong">
        <table id="announcementTable"></table>
     </div>

    </div>
<form action="">
    <div class="search-group">
    <input type="text" id="search" placeholder="검색"><button><img src="/free-icon-magnifier-2311526.png" ></button> 
    </div> 
    <div class="pagination" id="numbers">
        <a href="#">&laquo; previous</a>  <!-- Previous page button -->
        <a href="#" class="active" >1</a>
        <a href="#">2</a>
        <a href="#">3</a>
        <a href="#">....</a>
        <a href="#">67</a>
        <a href="#">68</a>
        <a href="#">next &raquo;</a>  <!-- Next page button -->
    </div>
    <input type="button" value="글쓰기" id="gle">
</form>
<script>

const announcements = JSON.parse(localStorage.getItem("announcements")) || [];
        const table = document.getElementById("announcementTable");

        announcements.forEach((announcement, index) => {
            const row = document.createElement("tr");
            const cell = document.createElement("td");
            const link = document.createElement("a");
            const content = document.createElement("span");

            link.href = "gongjiDetail.html?id=${announcement.id}";  // 상세보기 페이지 링크 설정
            link.textContent = `${announcement.title}`;
            content.className = "content";
            content.textContent = shortenContent(announcement.content, 20);  // 내용 짧게 표시

            cell.appendChild(link);
            cell.appendChild(document.createElement("br"));
            cell.appendChild(content);
            row.appendChild(cell);
            table.appendChild(row);
        });
    // 너무 긴 내용을 잘라내고 ...을 붙이는 함수
    function shortenContent(content, maxLength) {
        if (content.length > maxLength) {
            return content.substring(0, maxLength) + "...";
        } else {
            return content;
        }
    }

    // 모든 내용 span 요소에 대해 내용을 20자로 제한
    const contents = document.querySelectorAll(".content");
    contents.forEach(function(contentElement) {
        const originalText = contentElement.textContent;
        const shortenedText = shortenContent(originalText, 20);
        contentElement.textContent = shortenedText;
    });


    
</script>



</body>
</html>